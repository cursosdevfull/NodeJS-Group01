"use strict";var __awaiter=this&&this.__awaiter||function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{d(s.next(t))}catch(t){r(t)}}function l(t){try{d(s.throw(t))}catch(t){r(t)}}function d(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,l)}d((s=s.apply(t,e||[])).next())}))},__importDefault=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});const responses_util_1=__importDefault(require("../utils/responses.util"));class RoleController{constructor(t){this.roleRepository=t,this.getAll=this.getAll.bind(this),this.getById=this.getById.bind(this),this.insert=this.insert.bind(this),this.update=this.update.bind(this),this.delete=this.delete.bind(this)}getAll(t,e){return __awaiter(this,void 0,void 0,(function*(){const t=yield this.roleRepository.getAll();if(t.length)return responses_util_1.default.send(e,200,t);responses_util_1.default.send(e,404,{})}))}getById(t,e){return __awaiter(this,void 0,void 0,(function*(){const i=yield this.roleRepository.getById(t.params._id);if(i)return responses_util_1.default.send(e,200,i);responses_util_1.default.send(e,404,{})}))}insert(t,e){return __awaiter(this,void 0,void 0,(function*(){const i=yield this.roleRepository.insert(t.body);responses_util_1.default.send(e,201,i)}))}update(t,e){return __awaiter(this,void 0,void 0,(function*(){const i=yield this.roleRepository.update(t.params._id,t.body);if(i)return responses_util_1.default.send(e,201,i);responses_util_1.default.send(e,404,{})}))}delete(t,e){return __awaiter(this,void 0,void 0,(function*(){const i=yield this.roleRepository.delete(t.params._id);if(i)return responses_util_1.default.send(e,201,i);responses_util_1.default.send(e,404,{})}))}}exports.default=RoleController;